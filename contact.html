<!DOCTYPE html>
<html lang="en">
<head id="headContent">
  <title>Contact</title>
</head>
<body>
  <div id="navbar">
    <!-- navbar here -->
  </div>

  <div id="content">
    <div id="contact-info">
      <h1>Get In Touch: </h1>
      <p>Govt PU college -<br>Mr. Karthik Ankar– 9342736575</p>
      <p>Govt High School -<br>Mr. Kantaraju B G- 9845917244</p>
      <p>Govt Primary School -<br>Mr. Shreenivasa G – 7204602103</p>
      <p>BOG -<br>Mr. Rajendra Kumar R C- 9901773645</p>
    </div>
    <div id="contact-form"><form id="contactForm" onsubmit="submitForm(event, 'contactForm')" action="https://script.google.com/macros/s/AKfycbxhjMCnrj5tQZUtR2e6ig4rnmuZqKU5emXugpKknL2fC0pb0BcqNLzCdU4-iFGj0a0P/exec" method="post">
      <input type="hidden" name="sheet" value="contact_details">
        <input type="text" id="name" name="name" placeholder="Enter Name" required><br>
        <input type="email" id="email" name="email" placeholder="Enter Email" required><br>
        <input type="text" id="phone" name="phone" placeholder="Enter Phone Number"><br>
        <input type="text" id="pov" name="pov" placeholder="Purpose of Visit"><br>
        <textarea id="message" name="message" placeholder="Message" required></textarea><br>
        <input type="submit" value="Submit">
      </form>
      
      <div id="contactSubmissionMessage" style="display: none; margin-top: 4 5px; color: green;"><i>Contact Form submitted successfully!</i></div>

    </div>
  </div>


<div id="footer">
  <!-- footer is here  -->
</div>

<!-- script libriries -->

  <!-- this script is to load the navbar and header content  -->
  <script>
    window.onload = function() {
      fetch('head.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('headContent').innerHTML += data;
        });

      fetch('navbar.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('navbar').innerHTML = data;
        });
      fetch('footer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('footer').innerHTML = data;
    });
    };
  </script>
  <!-- Bootstrap JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <!-- main.jss -->
  <script src="main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>

  <!-- extra JS  -->
<script>
  document.getElementById('contactForm').addEventListener('submit', function(event) {
    event.preventDefault(); // prevent the form from submitting normally

    // submit the form using Fetch API
    fetch(this.action, {
        method: this.method,
        body: new FormData(this),
    })
    .then(response => response.json()) // parse the JSON response from the server
    .then(data => {
        if (data.result === 'success') {
            // if the server returned a success result, display the custom message
            document.getElementById('contactSubmissionMessage').style.display = 'block';
        } else {
            console.error('Form submission failed:', data);
        }
    })
    .catch(error => {
        console.error('Form submission failed:', error);
    });
});
</script>
</body>
</html>