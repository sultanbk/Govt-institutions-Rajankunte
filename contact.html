<!DOCTYPE html>
<html lang="en">
<head id="headContent">
  <title>Contact</title>
</head>
<body>
  <div id="navbar">
    <!-- navbar here -->
  </div>

  <div id="content">
    <div id="contact-info">
      <h1>Get In Touch: </h1>
      <p>Govt PU college -<br>Mr. Karthik Ankar– 9342736575</p>
      <p>Govt High School -<br>Mr. Kantaraju B G- 9845917244</p>
      <p>Govt Primary School -<br>Mr. Shreenivasa G – 7204602103</p>
      <p>BOG -<br>Mr. Rajendra Kumar R C- 9901773645</p>
    </div>
    <div id="contact-form">
      <form id="myForm" onsubmit="submitForm(event)" >
        <input type="text" id="name" name="name" placeholder="Enter Name" required><br>
        <input type="email" id="email" name="email" placeholder="Enter Email" required><br>
        <input type="text" id="phone" name="phone" placeholder="Enter Phone Number"><br>
        <input type="text" id="pov" name="pov" placeholder="Purpose of Visit"><br>
        <textarea id="message" name="message" placeholder="Message" required></textarea><br>
        <input type="submit" value="Submit">
      </form>
      <div id="submissionMessage" style="display: none; color: green;">Form submitted successfully!</div>
    </div>
  </div>


<div id="footer">
  <!-- footer is here  -->
</div>

<!-- script libriries -->
<script>
  function submitForm(event) {
    event.preventDefault();

    var form = document.getElementById('myForm');
    var formData = new FormData(form);
    var data = {};

    for (var pair of formData.entries()) {
      data[pair[0]] = pair[1];
    }

    var sheetId = '16jTK7TcvUs1MhSKIuFpjhF9Bnypkk8wAKgN6NxOXtlM';
    var url = 'https://script.google.com/macros/s/AKfycbwsGyV_zsW7glhvNveWZX-XPOpwbnlyAfKaX59ug_H_xqUUfhNQyDLjiChxoTroz8-zkQ/exec';

    fetch(url + '?sheetId=' + sheetId, {
      method: 'POST',
      body: formData,
    })
    .then(function(response) {
      if (response.ok) {
        // Display success message
        document.getElementById('submissionMessage').style.display = 'block';
      } else {
        console.error('Error: ' + response.status);
      }
    })
    .catch(function(error) {
      console.error('There has been a problem with your fetch operation:', error);
    });

    // Clear the form after submission
    form.reset();
  }
</script>

  <!-- this script is to load the navbar and header content  -->
  <script>
    window.onload = function() {
      fetch('head.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('headContent').innerHTML += data;
        });

      fetch('navbar.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('navbar').innerHTML = data;
        });
      fetch('footer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('footer').innerHTML = data;
    });
    };
  </script>
  <!-- Bootstrap JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <!-- main.jss -->
  <script src="main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
</body>
</html>